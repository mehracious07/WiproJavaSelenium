public static int[] merge(int[] arr, int start1, int end1, int start2, int end2) {
    int[] merged = new int[end2 - start1 + 1];
    int k = 0;

    while (start1 <= end1 && start2 <= end2) {
        if (arr[start1] < arr[start2]) {
            merged[k++] = arr[start1++];
        } else {
            merged[k++] = arr[start2++];
        }
    }

    while (start1 <= end1) {
        merged[k++] = arr[start1++];
    }

    while (start2 <= end2) {
        merged[k++] = arr[start2++];
    }

    return merged;
}
